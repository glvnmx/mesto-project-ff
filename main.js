(()=>{"use strict";var e="",t=[{name:"Джон",link:e+"58e8ffb75c576de841de.jpg"},{name:"Мэри",link:e+"4b42328ef6e1691c39df.jpg"},{name:"Брэд",link:e+"b091afffbedbe9373743.jpg"},{name:"Элизабет",link:e+"4d869bb20f78d4c0cf92.jpg"},{name:"Макс",link:e+"bf8aa845f2324f11090e.jpg"},{name:"Стефан",link:e+"69cea8feb174c7b40531.jpg"}];function n(e){e.target.closest(".card").remove()}function o(e){e.target.classList.toggle("card__like-button_is-active")}function r(e,t,n,o){var r=document.querySelector("#card-template").content.querySelector(".card").cloneNode(!0),u=r.querySelector(".card__like-button"),c=r.querySelector(".card__image"),i=r.querySelector(".card__title"),p=r.querySelector(".card__delete-button");return c.src=e.link,c.alt=e.name,i.textContent=e.name,u.addEventListener("click",n),p.addEventListener("click",t),c.addEventListener("click",(function(){o(e.link,e.name)})),r}var u=function(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");i(t)}},c=function(e){e.classList.add("popup_is-opened"),document.addEventListener("keyup",u)},i=function(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keyup",u)},p=function(e){e.querySelector(".popup__close").addEventListener("click",(function(){return i(e)})),e.addEventListener("mousedown",(function(t){t.target.classList.contains("popup")&&i(e)}))},a=function(e,t){var n=e.querySelector(".".concat(t.id,"-error"));t.classList.remove("popup__input_type_error"),n.classList.remove("popup__error-visible"),n.textContent=""},l=function(e,t){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.disabled=!1,t.classList.remove("popup__button-disabled")):(t.classList.add("popup__button-disabled"),t.disabled=!0)},d=function(e){var t=Array.from(e.querySelectorAll(".popup__input")),n=e.querySelector(".popup__button");t.forEach((function(t){t.setCustomValidity(""),a(e,t)})),l(t,n)},s=document.querySelector(".places__list"),_=document.querySelector(".profile__edit-button"),f=document.querySelector(".profile__add-button"),m=document.querySelector(".popup_type_edit"),y=document.querySelector(".popup_type_new-card"),v=document.querySelector(".popup__form-edit"),q=document.querySelector(".popup__form-card"),S=v.querySelector(".popup__input_type_name"),b=v.querySelector(".popup__input_type_description"),L=q.querySelector(".popup__input_type_card-name"),k=q.querySelector(".popup__input_type_url"),E=document.querySelector(".popup_type_image"),g=E.querySelector(".popup__image"),C=E.querySelector(".popup__caption"),x=document.querySelector(".profile__title"),A=document.querySelector(".profile__description");function j(e,t){g.src=e,g.alt=t,C.textContent=t,c(E)}Array.from(document.querySelectorAll("form")).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),function(e){var t=Array.from(e.querySelectorAll(".popup__input")),n=e.querySelector(".popup__button");l(t,n),t.forEach((function(o){o.addEventListener("input",(function(){!function(e,t){var n=t.dataset.errorMessage;n?/^[A-Za-zа-яА-ЯёЁ\s\-]+$/.test(t.value)?t.setCustomValidity(""):t.setCustomValidity(n||"Недопустимые символы"):t.setCustomValidity(""),t.validity.valid?a(e,t):function(e,t,n){var o=e.querySelector(".".concat(t.id,"-error"));t.classList.add("popup__input_type_error"),o.textContent=n,o.classList.add("popup__error-visible")}(e,t,t.validationMessage)}(e,o),l(t,n)}))}))}(e)})),q.addEventListener("submit",(function(e){e.preventDefault();var t=r({name:L.value,link:k.value},n,o,j);s.prepend(t),i(y),q.reset()})),v.addEventListener("submit",(function(e){e.preventDefault();var t=b.value,n=S.value;x.textContent=n,A.textContent=t,v.reset(),i(m)})),p(m),p(y),p(E),_.addEventListener("click",(function(){S.value=x.textContent,b.value=A.textContent,d(v),c(m)})),f.addEventListener("click",(function(){d(q),c(y),q.reset()})),t.forEach((function(e){s.appendChild(r(e,n,o,j))}))})();